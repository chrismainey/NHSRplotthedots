<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SPC Options Function — spcOptions • NHSRplotthedots</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SPC Options Function — spcOptions" />
<meta property="og:description" content="`spcOptions` returns a list object containing properties which adjust the output of the 'spc' function." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NHSRplotthedots</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Introduction to the `NHSRplotthedots` package</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SPC Options Function</h1>
    
    <div class="hidden name"><code>spcOptions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>`spcOptions` returns a list object containing properties which adjust the output of the 'spc' function.</p>
    </div>

    <pre class="usage"><span class='fu'>spcOptions</span><span class='op'>(</span>
  rebase <span class='op'>=</span> <span class='cn'>NULL</span>,
  fixAfterNPoints <span class='op'>=</span> <span class='cn'>NULL</span>,
  improvementDirection <span class='op'>=</span> <span class='cn'>NULL</span>,
  outputChart <span class='op'>=</span> <span class='cn'>NULL</span>,
  pointSize <span class='op'>=</span> <span class='cn'>NULL</span>,
  percentageYAxis <span class='op'>=</span> <span class='cn'>NULL</span>,
  target <span class='op'>=</span> <span class='cn'>NULL</span>,
  trajectory <span class='op'>=</span> <span class='cn'>NULL</span>,
  mainTitle <span class='op'>=</span> <span class='cn'>NULL</span>,
  xAxisLabel <span class='op'>=</span> <span class='cn'>NULL</span>,
  yAxisLabel <span class='op'>=</span> <span class='cn'>NULL</span>,
  fixedXAxisMultiple <span class='op'>=</span> <span class='cn'>NULL</span>,
  fixedYAxisMultiple <span class='op'>=</span> <span class='cn'>NULL</span>,
  xAxisDateFormat <span class='op'>=</span> <span class='cn'>NULL</span>,
  xAxisBreaks <span class='op'>=</span> <span class='cn'>NULL</span>,
  yAxisBreaks <span class='op'>=</span> <span class='cn'>NULL</span>,
  plotThemeOverride <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rebase</th>
      <td><p>Specify a field name which contains a control limit rebasing flag.
This field should contain integer values 0 and 1, and any date value where the rebase field is 1 will
trigger a recalculation of the control limits.
Field name can be specified using non-standard evaluation (i.e. no quotation marks).</p></td>
    </tr>
    <tr>
      <th>fixAfterNPoints</th>
      <td><p>Specify a number points after which to fix SPC calculations.</p></td>
    </tr>
    <tr>
      <th>improvementDirection</th>
      <td><p>Specify whether an increase or decrease in measured variable signifies
process improvement. Accepted values are 1 or 'increase' for increase as improvement or -1 or 'decrease' for
decrease as improvement.</p></td>
    </tr>
    <tr>
      <th>outputChart</th>
      <td><p>Specify whether the function should output a ggplot object or a data table of SPC values.
Accepted values are TRUE for a chart output, or FALSE for a data table output.</p></td>
    </tr>
    <tr>
      <th>pointSize</th>
      <td><p>Specify the plotting point size for the ggplot output. Default is 2.5.</p></td>
    </tr>
    <tr>
      <th>percentageYAxis</th>
      <td><p>Specify whether the y axis values are percentages. Percentages in the data frame should be
decimal values. Accepted values are TRUE for percentage y axis, FALSE for integer y axis.</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>Specify a field name which contains a target value.
Field name can be specified using non-standard evaluation (i.e. no quotation marks).</p></td>
    </tr>
    <tr>
      <th>trajectory</th>
      <td><p>Specify a field name which contains a trajectory value.
Field name can be specified using non-standard evaluation (i.e. no quotation marks).</p></td>
    </tr>
    <tr>
      <th>mainTitle</th>
      <td><p>Specify a character string value for the ggplot title.</p></td>
    </tr>
    <tr>
      <th>xAxisLabel</th>
      <td><p>Specify a character string value for the x axis title.</p></td>
    </tr>
    <tr>
      <th>yAxisLabel</th>
      <td><p>Specify a character string value for the y axis title.</p></td>
    </tr>
    <tr>
      <th>fixedXAxisMultiple</th>
      <td><p>Specify whether, if producing a faceted spc, x axis should be fixed for all facet plots.
Accepted values are TRUE for fixed x axes or FALSE for individual x axes.</p></td>
    </tr>
    <tr>
      <th>fixedYAxisMultiple</th>
      <td><p>Specify whether, if producing a faceted spc, y axis should be fixed for all facet plots.
Accepted values are TRUE for fixed y axes or FALSE for individual y axes.</p></td>
    </tr>
    <tr>
      <th>xAxisDateFormat</th>
      <td><p>Specify how dates on the x axis should be displayed. Format should be provided
as a character string using 'd m Y' etc syntax.</p></td>
    </tr>
    <tr>
      <th>xAxisBreaks</th>
      <td><p>Specify an interval value for breaks on the x axis. Value should be a character string expressing
interval length and type, e.g. "3 months", "7 days".</p></td>
    </tr>
    <tr>
      <th>yAxisBreaks</th>
      <td><p>Specify an interval value for breaks on the y axis. Value should be a numeric vector of length 1,
either an integer for integer scales or a decimal value for percentage scales. This option is ignored if faceting
is in use.</p></td>
    </tr>
    <tr>
      <th>plotThemeOverride</th>
      <td><p>Specify a list containing ggplot theme elements which can be used to override the default appearance of the plot.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is designed to allow greater control over SPC charts created using this package.  spcOptions is a list
with named slots for known parameters within the spc function. It should be supplied to the options argument within
the spc function, with the options listed within spcOptions.  See examples below.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/nhs-r-community/NHSRdatasets'>NHSRdatasets</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"ae_attendances"</span><span class='op'>)</span>

<span class='co'># Pick a few trust, and plot individually using facet</span>
<span class='co'># Also set the xaxis scale to vary for each and date groups to 3 months, using spcOptions</span>

<span class='va'>orgs</span> <span class='op'>&lt;-</span> <span class='va'>ae_attendances</span><span class='op'>$</span><span class='va'>org_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"RAS"</span>, <span class='st'>"RJZ"</span>, <span class='st'>"RR1"</span>, <span class='st'>"RJC"</span>, <span class='st'>"RQ1"</span><span class='op'>)</span>
<span class='va'>trusts4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>ae_attendances</span>, <span class='va'>orgs</span> <span class='op'>&amp;</span> <span class='va'>type</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='co'># spcOptions should be supplied the the options argument within the spc function.</span>
<span class='fu'><a href='spc.html'>spc</a></span><span class='op'>(</span><span class='va'>trusts4</span>,
  valueField <span class='op'>=</span> <span class='st'>"breaches"</span>, dateField <span class='op'>=</span> <span class='st'>"period"</span>, facetField <span class='op'>=</span> <span class='st'>"org_code"</span>,
  options <span class='op'>=</span> <span class='fu'>spcOptions</span><span class='op'>(</span>
    improvementDirection <span class='op'>=</span> <span class='st'>"decrease"</span>,
    fixedYAxisMultiple <span class='op'>=</span> <span class='cn'>FALSE</span>,
    xAxisBreaks <span class='op'>=</span> <span class='st'>"3 months"</span>
  <span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 135 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 135 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 79 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 90 rows containing missing values (geom_point).</span></div><div class='img'><img src='spcOptions-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Christopher Reading, Simon Wellesley-Miller, Zoë Turner, Tom Jemmett, Tom Smith, Chris Mainey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


